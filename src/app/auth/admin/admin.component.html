<h2 class="title">ğŸ“‹ Panel de AdministraciÃ³n de Reportes</h2>

<button mat-raised-button color="accent" (click)="volverDashboard()">Volver al Dashboard</button>

<div *ngIf="reportes.length > 0; else noReportes">
  <div *ngFor="let reporte of reportes" class="reporte-card">
    <div class="reporte-info">
      <h3>{{ reporte.titulo }}</h3>
      <p><strong>CategorÃ­a:</strong> {{ reporte.categoria }}</p>
      <p><strong>DescripciÃ³n:</strong> {{ reporte.descripcion }}</p>
      <p><strong>UbicaciÃ³n:</strong> Lat: {{ reporte.latitud }}, Lng: {{ reporte.longitud }}</p>
      <p>
        <strong>Estado:</strong>
        <span [ngClass]="{
          'pendiente': reporte.estado === 'Pendiente',
          'aprobado': reporte.estado === 'Aprobado',
          'rechazado': reporte.estado === 'Rechazado'
        }">
          {{ reporte.estado }}
        </span>
      </p>
    </div>

    <div class="button-group">
      <button mat-raised-button color="primary" (click)="cambiarEstado(reporte, 'Aprobado')">âœ… Aprobar</button>
      <button mat-raised-button color="warn" (click)="cambiarEstado(reporte, 'Rechazado')">âŒ Rechazar</button>
      <button mat-raised-button color="warn" (click)="eliminarReporte(reporte.id)">ğŸ—‘ï¸ Eliminar</button>
    </div>
  </div>
</div>

<ng-template #noReportes>
  <p>No hay reportes registrados por los usuarios.</p>
</ng-template>

